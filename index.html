<!DOCTYPE html>
<head>
    <title>Cube 3D</title>
    <style>
        BODY {
            margin: 0;
            padding: 0;
            font: normal 20px Arial;
        }
        #cube_container {
            width: 100vw;
            height: 100vh;
            perspective: 500px;
            user-select: none;
            background-color: rgb(34, 34, 34);

            display: flex;
            align-items: center;
            justify-content: center;
        }
        .cube {
            width: 300px;
            height: 300px;
            transform-style: preserve-3d;
        }
        .side {
            position: absolute;
            width: 300px;
            height: 300px;

            box-sizing: border-box;
            border: 5px solid black;
            background: rgba(0, 0, 0, 0.05);
            box-shadow: inset 0px 0px 40px 0px rgba(0, 0, 0, 0.5);
            font-size: 3.5em;

            display: flex;
            align-items: center;
            justify-content: center;
        }
        .front {
            transform: rotateY(0deg) translateZ(150px);
            color: lime;
        }
        .back {
            transform: rotateY(180deg) translateZ(150px);
            color: blue;
        }
        .right {
            transform: rotateY(90deg) translateZ(150px);
            color: red;
        }
        .left {
            transform: rotateY(-90deg) translateZ(150px);
            color: orange;
        }
        .top {
            transform: rotateX(90deg) translateZ(150px);
            color: white;
        }
        .bottom {
            transform: rotateX(-90deg) translateZ(150px);
            color: yellow;
        }
    </style>
</head>
<body>
    <div id="cube_container">
        <div class="cube">
            <div class="side front">front</div>
            <div class="side back">back</div>
            <div class="side right">right</div>
            <div class="side left">left</div>
            <div class="side top">top</div>
            <div class="side bottom">bottom</div>
        </div>
    </div>

    <script>
        const CUBE = document.querySelector('.cube');
        var MOVE = false, 
            mX0, mY0, 
            rotX = 0, rotY = 0;

        // -+-+-+-+-+-+-+-+-+-+-+-+- Mouse Events -+-+-+-+-+-+-+-+-+-+-+-+-
        document.addEventListener('mousedown', (e) => {
            if (e.target.className.indexOf('side') != -1)
            {
                MOVE = true;
                mX0 = e.pageX;
                mY0 = e.pageY;
            }
            else MOVE = false;
        });
        document.addEventListener('mousemove', (e) => {
            if (MOVE)
            {
                // Convert swipe to rotation
                rotY += Math.round((e.pageX - mX0) / 3.333);
                rotX += -Math.round((e.pageY - mY0) / 3.333);
                mX0 = e.pageX;
                mY0 = e.pageY;

                // Rotation borders
                if (rotX > 45) rotX = 45;
                else if (rotX < -45) rotX = -45;
                if (rotY > 360) rotY -= 360;
                else if (rotY < -360) rotY += 360;

                // Apply changes
                CUBE.style.transform =  'rotateX(' + rotX + 'deg) rotateY(' + rotY + 'deg) rotateZ(0deg)';
            }
        });
        document.addEventListener('mouseup', () => {
            MOVE = false;
        });

        // -+-+-+-+-+-+-+-+-+-+-+-+- Touch Events -+-+-+-+-+-+-+-+-+-+-+-+-
        document.addEventListener('touchstart', (e) => {
            if (e.target.className.indexOf('side') != -1)
            {
                MOVE = true;
                mX0 = e.changedTouches[0].pageX;
                mY0 = e.changedTouches[0].pageY;
            }
            else MOVE = false;
        });
        document.addEventListener('touchmove', (e) => {
            if (MOVE)
            {
                // Convert swipe to rotation
                rotY += Math.round((e.changedTouches[0].pageX - mX0) / 4);
                rotX += -Math.round((e.changedTouches[0].pageY - mY0) / 4);
                mX0 = e.changedTouches[0].pageX;
                mY0 = e.changedTouches[0].pageY;

                // Rotation borders
                if (rotX > 45) rotX = 45;
                else if (rotX < -45) rotX = -45;
                if (rotY > 360) rotY -= 360;
                else if (rotY < -360) rotY += 360;

                // Apply changes
                CUBE.style.transform =  'rotateX(' + rotX + 'deg) rotateY(' + rotY + 'deg) rotateZ(0deg)';
            }
        });
    </script>
</body>